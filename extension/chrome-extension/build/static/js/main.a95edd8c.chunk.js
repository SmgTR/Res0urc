(this["webpackJsonpchrome-extension"]=this["webpackJsonpchrome-extension"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(16),s=n.n(r),o=(n(23),n(3)),i=(n(24),n(7)),l=n.n(i),u=n(17),j=Object(c.createContext)(),b=function(e,t){switch(t.type){case"LOGIN_USER":return{}}},d=n(18),p=n.n(d),O=n(0),h=function(e){var t=Object(c.useReducer)(b,{user:null}),n=Object(o.a)(t,2),a=n[0],r=(n[1],function(){var e=Object(u.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={email:t.email,password:t.password},e.next=4,p.a.post("https://res0urc.herokuapp.com/api/v1/users/login",n);case 4:c=e.sent,a=c.data.token,localStorage.setItem("token",a),window.location.reload(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}var a}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}());return Object(O.jsx)(j.Provider,{value:{user:a.user,loginUser:r},children:e.children})},x=n(5),m=n(4),f=function(e){var t=e.label[0].toUpperCase()+e.label.slice(1);return Object(O.jsxs)(c.Fragment,{children:[Object(O.jsx)("label",{htmlFor:e.label,children:t}),Object(O.jsx)("input",Object(m.a)(Object(m.a)({className:"input"},e.input),{},{onChange:e.onChange}))]})},g=function(e){var t=e.text;return Object(O.jsx)("button",{className:"btn",children:t})},v=function(){var e=Object(c.useContext)(j).loginUser,t=Object(c.useState)({email:"",password:""}),n=Object(o.a)(t,2),a=n[0],r=n[1],s=function(e){r(Object(m.a)(Object(m.a)({},a),{},Object(x.a)({},e.target.name,e.target.value)))};return Object(O.jsx)("div",{className:"login input__default",children:Object(O.jsxs)("form",{className:"login__form ",onSubmit:function(t){e(a),t.preventDefault()},children:[Object(O.jsx)(f,{label:"email",input:{type:"text",placeholder:"Email",name:"email"},onChange:s}),Object(O.jsx)(f,{label:"password",input:{type:"password",placeholder:"Password",name:"password"},onChange:s}),Object(O.jsx)(g,{text:"Log in"})]})})},w=function(e){var t=e.login;return Object(O.jsx)(c.Fragment,{children:Object(O.jsx)("h1",{onClick:t,children:"ResourC"})})},C=function(){return Object(O.jsx)("nav",{className:"nav_bar",children:Object(O.jsx)(w,{})})};var k=function(){var e=Object(c.useState)(!0),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){var e=localStorage.getItem("token");a(!!e)}),[n]),Object(O.jsxs)(h,{children:[!n&&Object(O.jsxs)("div",{className:"no-user",children:[Object(O.jsx)("h1",{children:"Log in to start using our extension."}),Object(O.jsx)(v,{})]}),n&&Object(O.jsx)(C,{})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(k,{})}),document.getElementById("root")),S()}},[[45,1,2]]]);
//# sourceMappingURL=main.a95edd8c.chunk.js.map